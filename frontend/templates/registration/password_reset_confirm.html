{% extends "registration/login_base.html" %}
{% load i18n static %}

{% block title %}{{ title }}{% endblock %}
{% block login_block_title %}Redefinição de senha{% endblock %}

{% if validlink %}
    {% block form %}
        <p class="text-center">
            Por favor, informe sua nova senha duas vezes para que possamos
            verificar se você a digitou corretamente.
        </p>
        <form action="" method="post" class="form-horizontal" role="form">
            {% csrf_token %}
            <div class="form-group">
                <div class="col-md-12">
                    <label for="id_new_password1">Nova senha</label>
                    <input type="password"
                           name="new_password1"
                           id="id_new_password1"
                           class="form-control"
                           required>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-12">
                    <label for="id_new_password2">Confirme a senha</label>
                    <input type="password"
                           name="new_password2"
                           id="id_new_password2"
                           class="form-control"
                           required>
                </div>
            </div>
            <div class="form-group">
                <div class="col-md-12">
                    <button class="btn btn-info btn-block">
                        Alterar minha senha
                    </button>
                </div>
            </div>

            {% if form.new_password1.errors %}
                {% for error in form.password1.errors %}
                    <div class="alert alert-danger
                                    alert-dismissable">
                        <button type="button" class="close"
                                data-dismiss="alert"
                                aria-hidden="true">×
                        </button>
                        {{ error }}
                    </div>
                {% endfor %}
            {% endif %}
            {% if form.new_password2.errors %}
                {% for error in form.new_password2.errors %}
                    <div class="alert alert-danger
                                    alert-dismissable">
                        <button type="button" class="close"
                                data-dismiss="alert"
                                aria-hidden="true">×
                        </button>
                        {{ error }}
                    </div>
                {% endfor %}
            {% endif %}

        </form>
    {% endblock %}
{% else %}
    <p>
        O link para a recuperação de senha era inválido, possivelmente
        porque já foi utilizado. Por favor, solicite uma nova submit
        de senha.
    </p>
{% endif %}
