{% load widget_tweaks form_config_tags %}

<div class="form-group" {% if hide is True %}style="display:none"{% endif %}>
    {%  if field.label %}
    <label for="{{ field.id_for_label }}">
    {% if '!?' in field.label %}
        {{ field.label|safe|capfirst }}
    {% else %}
        {{ field.label|safe|capfirst }}:
    {% endif %}
    {% if  required  or required == 'True' %}
        <span style="color:#C9302C">*</span>
    {% endif %}
    </label>
    {% endif %}

    <div id="{{ name }}">

        <input name="{{ name }}_search"
               class="typeahead form-control"
               id="id_{{ name }}_search"
               type="text"
               data-provide="typeahead"
               {% if required %}required{% endif %}
               {% if autofocus %}autofocus{% endif %}>

        {% if help_text %}
            <div>
                <small class="text-muted">{{ help_text|safe }}</small>
            </div>
        {% endif %}
        {% if errors %}
            {% render_field_errors errors %}
        {% endif %}

        {% if required %}
            {{ field|add_class:"form-control"|append_attr:"required:required" }}
        {% else %}
            {{ field|add_class:"form-control" }}
        {% endif %}
    </div>
</div>
