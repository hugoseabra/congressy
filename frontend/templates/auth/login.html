{% extends 'auth/login_base.html' %}

{% block title %}Login | Congressy{% endblock %}
{% load static %}
{% load base_tags %}

{% block form %}
    <div class="panel panel-primary">
        <div class="panel-heading">
            <h3 class="panel-title">
                Login
            </h3>
        </div>
        <div class="panel-body">
            {% block messages %}
                {% if messages %}
                    <div style="width:100%;margin-top:3px;padding-bottom:10px">
                        <ul class="messagelist" style="list-style: none;margin: 0; padding: 0">
                            {% for message in messages %}

                                {% if 'warning' == message.tags %}
                                    <input type="hidden" value="{{ message|capfirst }}">
                                {% else %}
                                    {% get_message_background_color message as bgcolor %}
                                    <li style="background-color: {{ bgcolor }};padding: 10px;padding-bottom: 10px">
                                        {{ message|capfirst }}
                                    </li>
                                {% endif %}

                            {% endfor %}

                        </ul>
                    </div>
                {% endif %}
            {% endblock messages %}

            {% if form.errors and not form.non_field_errors %}
                <p class="errornote">
                    Corrija os erros abaixo
                </p>
            {% endif %}

            {% if form.non_field_errors %}
                {% for error in form.non_field_errors %}
                    <div class="alert alert-danger" role="alert">
                        {{ error }}
                    </div>
                {% endfor %}
            {% endif %}


            <p> Entre com suas credenciais para acessar sua conta.</p>
            <form class="form-horizontal" role="form">
                {% csrf_token %}
                <div class="form-group">
                    <div class="col-md-12">
                        <input type="email"
                               name="username"
                               class="form-control" id="email" placeholder="E-mail">
                        <i class="fa fa-user"></i>
                        <small class="text-muted">{{ form.username.errors }}</small>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                        <input type="password"
                               name="password"
                               class="form-control"
                               id="password"
                               placeholder="Senha">
                        <i class="fa fa-lock"></i>
                        <div class="help-block">
                            <a href="{% url 'password_reset' %}">Esqueceu sua senha?</a>
                        </div>
                        <small class="text-muted">{{ form.password.errors }}</small>
                    </div>
                </div>
                <div class="form-group">
                    <div class="col-md-12">
                        <a href="/" class="btn btn-primary
                        btn-block">Entrar</a>
                        <hr />
                        <a href="{% url 'public:profile_create' %}"
                           class="btn btn-info
                           btn-block">Criar conta</a>
                    </div>
                </div>
            </form>
        </div>
    </div>
{% endblock %}