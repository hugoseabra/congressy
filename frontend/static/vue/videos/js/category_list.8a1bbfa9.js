(function(t){function e(e){for(var a,o,s=e[0],c=e[1],u=e[2],d=0,f=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&f.push(i[o][0]),i[o]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],a=!0,s=1;s<n.length;s++){var c=n[s];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=n[0]))}return t}var a={},i={category_list:0},r=[];function o(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=t,o.c=a,o.d=function(t,e,n){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(n,a,function(e){return t[e]}.bind(null,a));return n},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;r.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("be80")},"0c03":function(t,e,n){"use strict";n("6b54"),n("2397");var a=n("d225"),i=n("b0b4"),r=n("4e2b"),o=n("308d"),s=n("6bb5"),c=n("a75b");n("3152");function u(t){return function(){var e,n=Object(s["a"])(t);if(l()){var a=Object(s["a"])(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(o["a"])(this,e)}}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}c["a"]},"13e6":function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));n("6b54"),n("2397");var a=n("d225"),i=n("b0b4"),r=n("2a88"),o=n("4e2b"),s=n("308d"),c=n("6bb5"),u=n("a75b");n("3152"),n("0c03");function l(t){return function(){var e,n=Object(c["a"])(t);if(d()){var a=Object(c["a"])(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(s["a"])(this,e)}}function d(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var f=function(t){Object(o["a"])(n,t);var e=l(n);function n(){var t;return Object(a["a"])(this,n),t=e.call(this),t.createEndpoint="/v1/videos/projects/[project.pk]/categories/",t.itemEndpoint="".concat(t.createEndpoint,"[pk]/"),t.project.pk=window.cgsy_environemnt.PROJECT_PK,t}return Object(i["a"])(n,[{key:"getFieldsManifest",value:function(){return{pk:"pk",strings:{name:null},integers:{num_videos:0},objects:{project:{}},booleans:{active:!1},lists:{},datetimes:{created_at:null,updated_at:null}}}},{key:"populate",value:function(t){t.hasOwnProperty("analytics")&&(t["num_videos"]=t["analytics"]["num_videos"]),Object(r["a"])(Object(c["a"])(n.prototype),"populate",this).call(this,t)}}]),n}(u["a"])},"2af0":function(t,e,n){"use strict";n("8615"),n("ac6a");var a=n("ba4c"),i=n.n(a),r=n("2f62"),o=n("13e6"),s=n("757c");i.a.use(r["a"]),i.a.config.productionTip=!1;var c=new s["a"],u=new r["a"].Store({mutations:{updateItem:function(t,e){e&&Object.assign(t.item,e)},updateItems:function(t){this.dispatch("runBeforeHooks"),t.items.length=0,c.items.forEach((function(e){return t.items.push(e.toData())})),this.dispatch("runAfterHooks")},updateItemInCollection:function(t){var e=!1;t.items.forEach((function(n){t.item.pk===n.pk&&(Object.assign(n,t.item),e=!0)})),!1===e&&t.items.push(t.item),this.commit("updateItems")},selectItem:function(t,e){var n=this;e&&t.items.forEach((function(t){t.pk===e&&n.commit("updateItem",t)}))},resetItem:function(t){Object.assign(t.item,(new o["a"]).toData())},removeItemInCollection:function(t){c.reset(),t.items.forEach((function(e){if(t.item.pk!==e.pk){var n=new o["a"];n.populate(e),c.add(n)}})),this.commit("updateItems"),this.commit("resetItem")},addHook:function(t,e){var n=e.type,a=e.id,i=e.callback;i instanceof Function&&(t.hooks[n]["items"][a]=i)}},actions:{runBeforeHooks:function(t){var e=t.state;Object.values(e.hooks["before"]["items"]).forEach((function(t){return t()}))},runAfterHooks:function(t){var e=t.state;Object.values(e.hooks["after"]["items"]).forEach((function(t){return t()}))},fetchCollection:function(t){var e=this,n=t.commit;this.dispatch("runBeforeHooks"),c.fetch().then((function(){n("updateItems")})).catch((function(t){e._vm.$messenger.commit("addError",t.message),e._vm.$messenger.commit("trigger")}))},save:function(t){var e=this,n=t.state;this.dispatch("runBeforeHooks");var a=new o["a"];a.populate(n.item),a.save().then((function(){e._vm.$messenger.commit("addSuccess","Categoria salva com sucesso."),e._vm.$messenger.commit("trigger"),e.commit("updateItem",a.toData()),setTimeout((function(){return e.dispatch("fetchCollection")}),200)})).catch((function(t){t.hasOwnProperty("stack")&&console.error(t.stack),e._vm.$messenger.commit("addError",t.message),e._vm.$messenger.commit("trigger")}))},remove:function(t){var e=this,n=t.state,a=t.commit;this.dispatch("runBeforeHooks");var i=new o["a"];i.populate(n.item),i.delete().then((function(){e._vm.$messenger.commit("addSuccess","Categoria excluída com sucesso."),e._vm.$messenger.commit("trigger"),a("removeItemInCollection")})).catch((function(t){t.hasOwnProperty("stack")&&console.error(t.stack),e._vm.$messenger.commit("addError",t.message),e._vm.$messenger.commit("trigger")}))}},state:{items:[],item:(new o["a"]).toData(),hooks:{before:{items:[]},after:{items:[]}}},strict:!1});e["a"]={category_store:u,install:function(t){t.prototype.$category_store=u}}},3152:function(t,e,n){"use strict";n("6b54"),n("2397");var a=n("d225"),i=n("b0b4"),r=n("4e2b"),o=n("308d"),s=n("6bb5"),c=n("a75b");function u(t){return function(){var e,n=Object(s["a"])(t);if(l()){var a=Object(s["a"])(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(o["a"])(this,e)}}function l(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}c["a"]},"3b55":function(t,e,n){"use strict";n("456d"),n("ac6a");var a=n("ba4c"),i=n.n(a),r=n("2f62");n("13e6"),n("757c");i.a.use(r["a"]),i.a.config.productionTip=!1;var o=new r["a"].Store({mutations:{addSuccess:function(t,e){t.msgs["success"].push(e)},addWarning:function(t,e){t.msgs["warning"].push(e)},addInfo:function(t,e){t.msgs["info"].push(e)},addError:function(t,e){t.msgs["error"].push(e)},triggerLoader:function(t,e){t.loader||(t.loader=Messenger().run({hideAfter:5e4,progressMessage:e,action:function(){}}))},hideLoader:function(t){if(t.loader){var e=t.loader;t.loader=null,e.cancel()}},trigger:function(t,e){var n=e&&e.hasOwnProperty("top")in e&&!0===e["top"]?"top":"bottom",a=e&&e.hasOwnProperty("left")&&!0===e["left"]?"left":"right";Messenger.options={extraClasses:"messenger-fixed messenger-on-"+n+" messenger-on-"+a,theme:"flat"},Object.keys(t.msgs).forEach((function(e){t.msgs[e].forEach((function(t){var n={type:e,message:t,showCloseButton:!0,hideAfter:10};Messenger().post(n)})),t.msgs[e]=[]}))}},actions:{addSuccess:function(t){t.commit("addSuccess")},addWarning:function(t){t.commit("addWarning")},addInfo:function(t){t.commit("addInfo")},addError:function(t){t.commit("addError")},trigger:function(t){t.commit("add")}},state:{loader:null,msgs:{success:[],warning:[],info:[],error:[]}},strict:!1});e["a"]={messenger:o,install:function(t){t.prototype.$messenger=o}}},"757c":function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("ac6a");var a=n("d225"),i=n("b0b4"),r=n("13e6"),o=(n("0c03"),n("d87f")),s=function(){function t(){Object(a["a"])(this,t),this.reset();var e=window.cgsy_environemnt.API_BASE_URL,n=window.cgsy_environemnt.API_TOKEN;this.client=new o["a"](e),this.client.setAuthorizationCode("Token",n),this.project_pk=window.cgsy_environemnt.PROJECT_PK}return Object(i["a"])(t,[{key:"add",value:function(t){this.items.push(t)}},{key:"reset",value:function(){this.items=[]}},{key:"fetch",value:function(){var t=this;return new Promise((function(e,n){t.reset();var a="/v1/videos/projects/".concat(t.project_pk,"/categories/");t.client.get(a).then((function(n){n instanceof Array&&n.forEach((function(e){var n=new r["a"];n.populate(e),t.add(n)})),e()})).catch((function(t){return n(t)}))}))}}]),t}()},a75b:function(t,e,n){"use strict";n.d(e,"a",(function(){return s}));n("a481"),n("456d"),n("ac6a");var a=n("d225"),i=n("b0b4"),r=n("d87f"),o=n("84b5"),s=function(){function t(){Object(a["a"])(this,t),this.fields=this.getFieldsManifest(),this.reset(),this.createEndpoint=null,this.itemEndpoint=null,this.setCredentials()}return Object(i["a"])(t,[{key:"getFieldsManifest",value:function(){return{pk:"pk",strings:{},integers:{},objects:{},booleans:{},lists:{},datetimes:{}}}},{key:"isFieldString",value:function(t){var e=!1;return this.fields.strings.forEach((function(n){n===t&&(e=!0)})),e}},{key:"isFieldInteger",value:function(t){var e=!1;return this.fields.integers.forEach((function(n){n===t&&(e=!0)})),e}},{key:"isFieldObject",value:function(t){var e=!1;return this.fields.objects.forEach((function(n){n===t&&(e=!0)})),e}},{key:"isFieldBoolean",value:function(t){var e=!1;return this.fields.booleans.forEach((function(n){n===t&&(e=!0)})),e}},{key:"isFieldList",value:function(t){var e=!1;return this.fields.lists.forEach((function(n){n===t&&(e=!0)})),e}},{key:"isFieldDatetime",value:function(t){var e=!1;return this.fields.datetimes.forEach((function(n){n===t&&(e=!0)})),e}},{key:"getFieldNames",value:function(){var t=[];return t.push(this.fields.pk),Object.keys(this.fields.strings).forEach((function(e){return t.push(e)})),Object.keys(this.fields.integers).forEach((function(e){return t.push(e)})),Object.keys(this.fields.objects).forEach((function(e){return t.push(e)})),Object.keys(this.fields.booleans).forEach((function(e){return t.push(e)})),Object.keys(this.fields.lists).forEach((function(e){return t.push(e)})),Object.keys(this.fields.datetimes).forEach((function(e){return t.push(e)})),t}},{key:"normalizaEndpoint",value:function(t){var e,n=/\[([^\]\[\r\n]*)\]/gi,a=[],i=[];while(e=n.exec(t))a.push(e[0]),i.push(e[1]);var r=this.toData(),s=0;return i.forEach((function(e){var n=o.pick(e,r);n&&(t=t.replace(a[s],n)),s++})),t}},{key:"setCredentials",value:function(){var t=window.cgsy_environemnt.API_BASE_URL,e=window.cgsy_environemnt.API_TOKEN;this.client=new r["a"](t),this.client.setAuthorizationCode("Token",e)}},{key:"populate",value:function(t){var e=this;this.getFieldNames().forEach((function(n){t.hasOwnProperty(n)&&(e[n]=t[n])}))}},{key:"reset",value:function(){var t=this;this[this.fields.pk]=null,Object.keys(this.fields.strings).forEach((function(e){return t[e]=t.fields.strings[e]})),Object.keys(this.fields.integers).forEach((function(e){return t[e]=t.fields.integers[e]})),Object.keys(this.fields.objects).forEach((function(e){return t[e]=t.fields.objects[e]})),Object.keys(this.fields.booleans).forEach((function(e){return t[e]=t.fields.booleans[e]})),Object.keys(this.fields.lists).forEach((function(e){return t[e]=t.fields.lists[e]})),Object.keys(this.fields.datetimes).forEach((function(e){return t[e]=t.fields.datetimes[e]}))}},{key:"toData",value:function(){var t={},e=this;return this.getFieldNames().forEach((function(n){t[n]=e[n]})),t}},{key:"normalizeIncomingData",value:function(t){t=o.object(t),this.populate(t)}},{key:"fetch",value:function(){var t=this,e=this;return new Promise((function(n,a){if(!e.pk)return a("Model instance without primary key cannot be fetched.");var i=function(t){e.normalizeIncomingData(t),n()},r=t.normalizeIncomingData(t.itemEndpoint);e.client.patch(r,e.toData()).then(i).catch((function(t){return a(t)}))}))}},{key:"save",value:function(){var t=this,e=this;return new Promise((function(n,a){var i=t.normalizaEndpoint(e.pk?t.itemEndpoint:t.createEndpoint),r=function(t){e.normalizeIncomingData(t),n()};e.pk?e.client.patch(i,e.toData()).then(r).catch((function(t){return a(t)})):e.client.post(i,e.toData()).then(r).catch((function(t){return a(t)}))}))}},{key:"delete",value:function(){var t=this,e=this;return new Promise((function(n,a){if(!e.pk)return a("Model instance without primary key cannot be deleted.");var i=t.normalizaEndpoint(t.itemEndpoint);e.client.delete(i).then((function(){t.reset(),n()})).catch((function(t){return a(t)}))}))}}]),t}()},be80:function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var a=n("ba4c"),i=n.n(a),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.items.length>0?n("div",[n("category-list",{directives:[{name:"show",rawName:"v-show",value:!1===t.loading,expression:"loading === false"}],attrs:{items:t.items}})],1):!1===t.loading?n("div",[t._m(0)]):t._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.loading,expression:"loading === true"}],staticStyle:{border:"1px dashed #ddd"}},[t._m(1)])])},o=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center",staticStyle:{height:"100px","margin-top":"50px"}},[n("small",{staticClass:"text-muted"},[t._v("Nenhum registro")]),n("hr"),n("div",[n("button",{staticClass:"btn btn-sm btn-success"},[t._v("Criar categoria")])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center",staticStyle:{height:"100px","margin-top":"50px"}},[n("i",{staticClass:"fas fa-circle-notch text-muted fa-spin fa-4x"})])}],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("table",{staticClass:"table table-striped table-bordered",attrs:{id:"category-list-table"}},[t._m(0),n("tbody",t._l(t.items,(function(t){return n("category-list-item",{key:t.pk,attrs:{item:t}})})),1)])])},c=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("thead",[n("tr",[n("th",{attrs:{width:"7%"}},[t._v("Ativo")]),n("th",[t._v("Nome da Categoria")]),n("th",{staticClass:"text-center hidden-xs",attrs:{width:"20%"}},[t._v("# Vídeos")]),n("th",{attrs:{width:"5%"}})])])}],u=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("tr",[n("td",[n("input",{staticClass:"js-switch",staticStyle:{display:"none"},attrs:{type:"checkbox",name:"active",id:"cat_id_"+t.item.pk},domProps:{checked:!0===t.active},on:{change:t.updateItem}})]),n("td",[n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.openForm}},[t._v(t._s(t.item.name))])]),n("td",{staticClass:"text-center hidden-xs"},[t._v(t._s(t.item.num_videos))]),n("td",[n("div",{staticClass:"btn-group"},[t._m(0),n("ul",{staticClass:"dropdown-menu dropdown-menu-right",attrs:{role:"menu"}},[n("li",[n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.openForm}},[n("i",{staticClass:"fas fa-pencil-alt"}),t._v("\n                        Editar\n                    ")])]),t.item.num_videos?t._e():n("li",[n("a",{attrs:{href:"javascript:void(0)"},on:{click:t.removeItem}},[n("i",{staticClass:"fas fa-trash-alt"}),t._v("\n                        Excluir\n                    ")])])])])])])},l=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("button",{staticClass:"btn btn-primary btn-trans btn-sm dropdown-toggle",attrs:{type:"button","data-toggle":"dropdown","aria-expanded":"true"}},[n("span",{staticClass:"fas fa-cog"})])}],d=(n("7f7f"),{name:"CategoryListItem",props:{item:{type:Object,required:!0}},data:function(){return{active:this.item.active}},methods:{selectItem:function(){this.$category_store.commit("selectItem",this.item.pk)},openForm:function(){this.selectItem(),window.jQuery("#category-form-modal").modal()},updateItem:function(){this.active=!this.active,this.selectItem(),this.$category_store.commit("updateItem",{active:this.active}),this.$category_store.dispatch("save")},removeItem:function(){confirm('Deseja realmente excluir a categoria "'.concat(this.item.name,'"?'))&&(this.selectItem(),this.$category_store.dispatch("remove"))}}}),f=d,m=n("2877"),h=Object(m["a"])(f,u,l,!1,null,"3f5a1b23",null),p=h.exports,v={name:"CategoryList",components:{CategoryListItem:p},props:{items:{type:Array,required:!0}},data:function(){return{datatable:null}},mounted:function(){var t=this;this.$category_store.commit("addHook",{type:"after",id:"category.list.reload",callback:function(){return t.reload()}}),this.configureDatatables()},methods:{setupSwitches:function(){window.setTimeout((function(){return window.app.switcheryToggle()}),300)},configureDatatables:function(){var t=this;window.setTimeout((function(){t.datatable=window.$("#category-list-table").DataTable({language:{sEmptyTable:"Nenhum registro encontrado",sInfo:"Mostrando de _START_ até _END_ de _TOTAL_ registros",sInfoEmpty:"Mostrando 0 até 0 de 0 registros",sInfoFiltered:"(Filtrados de _MAX_ registros)",sInfoPostFix:"",sInfoThousands:".",sLengthMenu:"_MENU_ resultados por página",sLoadingRecords:"Carregando...",sProcessing:"Processando...",sZeroRecords:"Nenhum registro encontrado",sSearch:"Pesquisar",oPaginate:{sNext:"Próximo",sPrevious:"Anterior",sFirst:"Primeiro",sLast:"Último"},oAria:{sSortAscending:": Ordenar colunas de forma ascendente",sSortDescending:": Ordenar colunas de forma descendente"}},columnDefs:[{searchable:!1,orderable:!1,className:"text-center",targets:-1},{searchable:!1,orderable:!1,className:"nowrap",targets:0}],order:[[1,"asc"]]}),t.setupSwitches()}),300)},reload:function(){this.datatable?(this.datatable.destroy(),this.configureDatatables()):this.setupSwitches()}}},g=v,y=Object(m["a"])(g,s,c,!1,null,null,null),b=y.exports,k={name:"CategoryGrid",components:{CategoryList:b},data:function(){return{loading:!0,items:this.$category_store.state.items}},mounted:function(){var t=this;this.$category_store.commit("addHook",{type:"before",id:"category.grid.load",callback:function(){t.loading=!0}}),this.$category_store.commit("addHook",{type:"after",id:"category.grid.load",callback:function(){return t.loading=!1}}),this.$category_store.dispatch("fetchCollection")}},w=k,_=Object(m["a"])(w,r,o,!1,null,null,null),C=_.exports,E=n("2af0"),T=n("3b55"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("form",{attrs:{method:"post"},on:{submit:t.submit}},[n("div",{staticClass:"modal",attrs:{id:"category-form-modal",role:"dialog","data-backdrop":"true"}},[n("div",{staticClass:"modal-dialog ",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[n("div",{staticClass:"modal-header"},[n("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-hidden":"true"}},[t._v("×")]),n("h4",{staticClass:"modal-title"},[t.pk?n("span",[t._v("Editar")]):n("span",[t._v("Nova")]),t._v("\n                        categoria\n                    ")])]),n("div",{staticClass:"modal-body"},[t._l(t.errors,(function(t){return n("alert",{key:t,attrs:{msg:t,type:"danger"}})})),n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("div",{staticClass:"form-group"},[t._m(0),n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text",name:"name",autofocus:"",required:"",maxlength:"255",id:"id_name"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}}),n("div",{staticClass:"clearfix"})]),n("div",{staticClass:"clearfix"})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.pk,expression:"pk"}],staticClass:"row"},[n("div",{staticClass:"col-md-12"},[n("small",{staticClass:"text-muted",staticStyle:{"margin-left":"10px"}},[n("strong",[t._v("ID:")]),t._v(" "+t._s(t.pk)+"\n                            ")])])])],2),n("div",{staticClass:"modal-footer"},[n("div",{staticClass:"text-right"},[n("button",{staticClass:"btn btn-success",attrs:{disabled:t.button_disabled,type:"submit"}},[t.button_disabled?n("span",[t._v("aguarde...")]):n("span",[t._v("Salvar")])])])])])])])])},j=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("label",{staticStyle:{"margin-bottom":"0"},attrs:{for:"id_name"}},[t._v("\n                                    Nome "),n("span",{staticStyle:{color:"#C9302C"}},[t._v("*")])])}],x=(n("7514"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{class:"alert alert-"+t.type},[n("div",{staticClass:"row"},[n("div",{directives:[{name:"show",rawName:"v-show",value:!0===t.icon,expression:"icon === true"}],staticClass:"col-xs-2 col-sm-2 col-md-1 text-center"},[n("div",{directives:[{name:"show",rawName:"v-show",value:"warning"===t.type,expression:"type === 'warning'"}]},[t.intro?n("i",{staticClass:"fas fa-exclamation-triangle warning-color fa-2x"}):n("i",{staticClass:"fas fa-exclamation-triangle warning-color"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"danger"===t.type,expression:"type === 'danger'"}]},[t.intro?n("i",{staticClass:"fas fa-exclamation-circle danger-color fa-2x"}):n("i",{staticClass:"fas fa-exclamation-circle danger-color"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"info"===t.type,expression:"type === 'info'"}]},[t.intro?n("i",{staticClass:"fas fa-info-circle info-color fa-2x"}):n("i",{staticClass:"fas fa-info-circle info-color"})]),n("div",{directives:[{name:"show",rawName:"v-show",value:"success"===t.type,expression:"type === 'success'"}]},[t.intro?n("i",{staticClass:"fas fa-check-circle success-color fa-2x"}):n("i",{staticClass:"fas fa-check-circle success-color"})])]),!0===t.icon?n("div",{staticClass:"col-xs-10 col-sm-10 col-md-11"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.intro,expression:"intro"}],staticClass:"text-bold"},[n("span",{domProps:{innerHTML:t._s(t.intro)}})]),n("span",{domProps:{innerHTML:t._s(t.msg)}})]):n("div",{staticClass:"col-md-12"},[n("span",{directives:[{name:"show",rawName:"v-show",value:t.intro,expression:"intro"}],staticClass:"text-bold"},[n("span",{domProps:{innerHTML:t._s(t.intro)}})]),n("span",{domProps:{innerHTML:t._s(t.msg)}})])])])}),I=[],P={name:"Alert",props:{type:{type:String,required:!0},msg:{type:String,required:!0},intro:String,icon:Boolean}},R=P,S=Object(m["a"])(R,x,I,!1,null,null,null),U=S.exports,$={name:"CategoryForm",components:{Alert:U},data:function(){return{errors:[],button_disabled:!1,input_name:null}},computed:{name:{get:function(){return this.$category_store.state.item.name},set:function(t){this.input_name=t}},pk:function(){return this.$category_store.state.item.pk}},updated:function(){this.input_name=this.name},mounted:function(){var t=this;this.$category_store.commit("addHook",{type:"after",id:"category.form.aftersave",callback:function(){window.jQuery("#category-form-modal").modal("hide"),t.button_disabled=!1}}),window.jQuery("#category-form-modal").on("hidden.bs.modal",(function(){t.$category_store.commit("resetItem")})),window.jQuery("#category-form-modal").on("show.bs.modal",(function(){setTimeout((function(){window.jQuery("#category-form-modal").find("input[autofocus]").focus()}),300)}))},methods:{submit:function(t){t.preventDefault(),this.button_disabled=!0,this.$category_store.commit("updateItem",{name:this.input_name}),this.$category_store.dispatch("save")}}},D=$,M=Object(m["a"])(D,O,j,!1,null,null,null),F=M.exports;i.a.config.productionTip=!1,i.a.use(T["a"]),i.a.use(E["a"]),new i.a({el:"#category-list",components:{CategoryGrid:C}}),new i.a({el:"#category-form",components:{CategoryForm:F}})},d87f:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var a=n("7618"),i=(n("aef6"),n("f559"),n("28a5"),n("d225")),r=n("b0b4"),o=n("cf63"),s=n.n(o),c=n("c0cc"),u=(n("6b54"),n("2397"),n("4e2b")),l=n("308d"),d=n("6bb5"),f=n("f28b");function m(t){return function(){var e,n=Object(d["a"])(t);if(h()){var a=Object(d["a"])(this).constructor;e=Reflect.construct(n,arguments,a)}else e=n.apply(this,arguments);return Object(l["a"])(this,e)}}function h(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}var p=function(t){Object(u["a"])(n,t);var e=m(n);function n(t){var a;return Object(i["a"])(this,n),a=e.call(this,t||""),a.type=null,a.httpStatus=0,a.title="Some unknown error has occurred",a.detail=null,a.instance=null,a.detail=t,a}return n}(Object(f["a"])(Error)),v=function(){function t(){Object(i["a"])(this,t)}return Object(r["a"])(t,null,[{key:"resp",value:function(t){return t}},{key:"handleError",value:function(t){var e=null;if(t.hasOwnProperty("message")&&(e=t.message||null),!t.response){if(String(e).toLowerCase().indexOf("timeout")>=0&&String(e).toLowerCase().indexOf("exceeded")>=0)return new c["GatewayTimeout"](e);if(String(e).toLowerCase().indexOf("network error")>=0)return navigator.onLine?new c["ServiceUnavailable"](e):new p(e);throw t}if(!t.response.hasOwnProperty("status"))return new p(e);switch(t.response.hasOwnProperty("message")&&(e=t.response.message),t.response.status){case 400:return new c["BadRequest"](e);case 401:return new c["Unauthorized"](e);case 403:return new c["Forbidden"](e);case 404:return new c["NotFound"](e);case 405:return new c["MethodNotAllowed"](e);case 406:return new c["NotAcceptable"](e);case 408:return new c["RequestTimeout"](e);case 409:return new c["Conflict"](e);case 422:return new c["UnprocessableEntity"](e);case 429:return new c["TooManyRequests"](e);case 500:return new c["InternalServerError"](e);case 501:return new c["NotImplemented"](e);case 502:return new c["BadGateway"](e);case 503:return new c["ServiceUnavailable"](e);case 504:return new c["GatewayTimeout"](e);default:return new p(e)}}}]),t}(),g=function(){function t(e){Object(i["a"])(this,t),this._fetchResultKey="results",this.baseUrl=t.normalizeBaseUrl(e)}return Object(r["a"])(t,[{key:"setAuthorizationCode",value:function(t,e){t=t.toLowerCase(),t=t.charAt(0).toUpperCase()+t.slice(1),this._authorizationToken="".concat(t," ").concat(e)}},{key:"setFethResultKey",value:function(t){this._fetchResultKey=t}},{key:"get",value:function(e){var n=this;return new Promise((function(a,i){n.getCancelToken&&(clearTimeout(n.getCancelToken),n.getCancelToken=void 0),n.getCancelToken=setTimeout((function(){n.getWrappedClient().get(n.getUri(e,!1)).then((function(t){n.getCancelToken=void 0,a(n.retrieveFetchResult(t.data))})).catch((function(t){n.getCancelToken=void 0,i(t)}))}),t.REQUEST_QUEUE_TIMEOUT)}))}},{key:"delete",value:function(e){var n=this;return new Promise((function(a,i){n.deleteCancelToken&&(clearTimeout(n.deleteCancelToken),n.deleteCancelToken=void 0),n.deleteCancelToken=setTimeout((function(){n.getWrappedClient().delete(n.getUri(e,!1)).then((function(t){n.deleteCancelToken=void 0,a(n.retrieveFetchResult(t.data))})).catch((function(t){n.deleteCancelToken=void 0,i(t)}))}),t.REQUEST_QUEUE_TIMEOUT)}))}},{key:"head",value:function(e){var n=this;return new Promise((function(a,i){n.headCancelToken&&(clearTimeout(n.headCancelToken),n.headCancelToken=void 0),n.headCancelToken=setTimeout((function(){n.getWrappedClient().head(n.getUri(e,!1)).then((function(t){n.headCancelToken=void 0,a(n.retrieveFetchResult(t.data))})).catch((function(t){n.headCancelToken=void 0,i(t)}))}),t.REQUEST_QUEUE_TIMEOUT)}))}},{key:"post",value:function(e,n){var a=this;return new Promise((function(i,r){a.postCancelToken&&(clearTimeout(a.postCancelToken),a.postCancelToken=void 0),a.headCancelToken=setTimeout((function(){a.getWrappedClient().post(a.getUri(e,!1),n).then((function(t){a.postCancelToken=void 0,i(a.retrieveFetchResult(t.data))})).catch((function(t){a.postCancelToken=void 0,r(t)}))}),t.REQUEST_QUEUE_TIMEOUT)}))}},{key:"put",value:function(e,n){var a=this;return new Promise((function(i,r){a.putCancelToken&&(clearTimeout(a.putCancelToken),a.putCancelToken=void 0),a.putCancelToken=setTimeout((function(){a.getWrappedClient().put(a.getUri(e,!1),n).then((function(t){a.putCancelToken=void 0,i(a.retrieveFetchResult(t.data))})).catch((function(t){a.putCancelToken=void 0,r(t)}))}),t.REQUEST_QUEUE_TIMEOUT)}))}},{key:"patch",value:function(e,n){var a=this;return new Promise((function(i,r){a.patchCancelToken&&(clearTimeout(a.patchCancelToken),a.patchCancelToken=void 0),a.patchCancelToken=setTimeout((function(){a.getWrappedClient().patch(a.getUri(e,!1),n).then((function(t){a.patchCancelToken=void 0,i(a.retrieveFetchResult(t.data))})).catch((function(t){a.patchCancelToken=void 0,r(t)}))}),t.REQUEST_QUEUE_TIMEOUT)}))}},{key:"getUri",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=t.split("?"),a=n.length>1?n[1]:"";return t=n[0],t.startsWith("/")||(t="/".concat(t)),t.endsWith("/")||(t="".concat(t,"/")),a&&(t="".concat(t,"?").concat(a)),e?this.baseUrl+t:t}},{key:"getWrappedClient",value:function(){return this.client||(this.client=s.a.create(this.getClientDefaultOptions()),this.client.interceptors.response.use((function(t){return v.resp(t)}),(function(t){return Promise.reject(v.handleError(t))}))),this.client}},{key:"getDefaultHeaders",value:function(){var t={"Content-Type":"application/json"};return this._authorizationToken&&(t["Authorization"]=this._authorizationToken),t}},{key:"getClientDefaultOptions",value:function(){return{baseURL:this.baseUrl,timeout:t.REQUEST_TIMEOUT,headers:this.getDefaultHeaders()}}},{key:"retrieveFetchResult",value:function(t){var e;return e="object"==Object(a["a"])(t)&&t.hasOwnProperty(this.fetchResultKey)?t[this.fetchResultKey]:t,e}},{key:"authorizationToken",get:function(){return this._authorizationToken}},{key:"fetchResultKey",get:function(){return this._fetchResultKey}}],[{key:"normalizeBaseUrl",value:function(t){return t.endsWith("/")?t.substring(0,t.length-1):t}}]),t}();g.REQUEST_TIMEOUT=6e4,g.REQUEST_QUEUE_TIMEOUT=100}});